:root{
  --bg:#0b0f14;
  --panel:#121821;
  --panel-2:#0f141c;
  --text:#e7ecf3;
  --muted:#9aa4b2;
  --border:#1f2a37;
  --brand:#1fc77e;
  --brand-2:#23e08e;
  --danger:#ef4444;
  --shadow: 0 12px 40px rgba(0,0,0,.35);
  --radius:16px;
}

body.pure-black { --bg:#000; --panel:#050505; --panel-2:#0a0a0a; --border:#141414; }

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background: radial-gradient(1200px 800px at 70% -10%, #0f1722 0%, var(--bg) 60%) no-repeat, var(--bg);
  color:var(--text);
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  line-height:1.45;
  letter-spacing:.2px;
  -webkit-tap-highlight-color: transparent;
}

.wrap{max-width:1100px; margin:32px auto; padding:0 16px 48px;}
header{display:flex; align-items:center; justify-content:space-between; gap:12px; margin:8px 0 18px;}
.title{display:flex; align-items:center; gap:10px;}
.title .logo{width:36px;height:36px;border-radius:10px;background: linear-gradient(135deg, var(--brand), var(--brand-2)); display:grid;place-items:center;color:#0a0f12;font-weight:900; box-shadow: 0 8px 26px rgba(31,199,126,.35);}
h1{font-size:22px; margin:0}
.sub{margin:2px 0 0; color:var(--muted); font-size:13px}
.top-controls{display:flex; gap:10px; align-items:center; flex-wrap:wrap}

.card{background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.02)), var(--panel); border:1px solid var(--border); border-radius:var(--radius); box-shadow: var(--shadow);}
.sub-card{background: var(--panel-2); border:1px solid var(--border); border-radius:12px; margin-top:14px; padding:14px;}
.section{padding:18px}
.section + .section{border-top:1px solid var(--border)}

.grid{display:grid; gap:14px}
.g2{grid-template-columns: repeat(2, minmax(0,1fr))}
.g3{grid-template-columns: repeat(3, minmax(0,1fr))}
@media (max-width:960px){ .g2,.g3{grid-template-columns:1fr} }

label{display:flex; align-items:center; justify-content:space-between; gap:8px; font-size:13px; color:#cfd7e3; margin:0 0 6px;}
.hint{color:var(--muted); font-weight:500}
.h3{margin:0 0 8px; font-size:14px}

input[type="time"], input[type="number"], select, input[type="date"], input[type="password"], textarea{
  width:100%; background: var(--panel-2); color:var(--text); border:1px solid var(--border);
  border-radius:12px; padding:12px 12px; font-size:15px; outline: none; transition: border-color .15s ease, box-shadow .15s ease;
}
textarea{resize:vertical; min-height:88px}
input:focus, select:focus, textarea:focus{border-color: rgba(35,224,142,.7); box-shadow: 0 0 0 3px rgba(35,224,142,.15);}
input[readonly]{opacity:.85}
input::placeholder, textarea::placeholder{color:#7f8a99}

.btn{
  border:0; cursor:pointer; font-weight:700; letter-spacing:.2px; padding:11px 14px; border-radius:12px;
  background: linear-gradient(135deg, var(--brand), var(--brand-2)); color:#0b1216;
  box-shadow: 0 10px 26px rgba(31,199,126,.25); transition: transform .06s ease, box-shadow .2s ease, filter .2s ease;
  touch-action: manipulation;
}
.btn:hover{filter:brightness(1.05)}
.btn:active{transform: translateY(1px)}
.btn-ghost{background:transparent; color:var(--text); border:1px dashed #2a3646; box-shadow:none;}
.btn-danger{background: linear-gradient(135deg, #f87171, #ef4444); color:#170a0a; box-shadow: 0 10px 26px rgba(239,68,68,.25);}
.btn-disabled{opacity:.5; cursor:not-allowed; filter:grayscale(.2)}
.actions{display:flex; gap:10px; flex-wrap:wrap}

.switch{display:flex; align-items:center; gap:6px; border:1px solid var(--border); padding:6px 10px; border-radius:999px; background:var(--panel-2)}
.switch input{accent-color:#23e08e}

.live{display:flex; align-items:center; gap:12px; flex-wrap:wrap}
.clock{font-variant-numeric: tabular-nums; font-weight:800}
.pill{padding:6px 10px; border-radius:999px; background:#0f1a22; border:1px solid #1f2b38; color:#cfe7da; font-size:12px;}
.state{padding:6px 10px; border-radius:8px; background:#07151d; border:1px solid #153242; color:#9be6c5; font-weight:800; letter-spacing:.4px}

.results{display:grid; gap:12px}
.kpis{display:grid; gap:12px; grid-template-columns: repeat(4, minmax(0,1fr));}
@media (max-width:1100px){ .kpis{grid-template-columns: repeat(2, minmax(0,1fr))} }
@media (max-width:540px){ .kpis{grid-template-columns: 1fr} }
.kpi{background: var(--panel-2); border:1px solid var(--border); border-radius:14px; padding:12px;}
.kpi .label{color:var(--muted); font-size:12px}
.kpi .value{font-size:20px; font-weight:900; margin-top:6px}

.breaks-list{display:grid; gap:10px}
.break-card{padding:10px; background: var(--panel-2); border:1px solid var(--border); border-radius:12px;}
.break-head{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:4px; color:#cfd7e3; font-size:13px;}
.break-dur{color:#9be6c5; font-weight:800}
.foot-note{color:var(--muted); font-size:12px; margin-top:6px}
.breaks-head{display:flex; align-items:center; justify-content:space-between; gap:10px}

.tag{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; background:#0f1a22; border:1px solid #1f2b38; color:#cfe7da; font-size:12px;}
.divider{height:1px; background:var(--border); margin:14px 0}

.tabs{display:flex; gap:8px; padding:14px 18px; border-bottom:1px solid var(--border)}
.tab{border:1px solid var(--border); background:var(--panel-2); color:var(--text); padding:8px 14px; border-radius:999px; cursor:pointer; font-weight:700;}
.tab.active{outline:3px solid rgba(35,224,142,.15); border-color: rgba(35,224,142,.6)}
.hidden{display:none}

.settings{margin-top:16px}

.history-table{overflow:auto; border:1px solid var(--border); border-radius:12px}
.history-table table{width:100%; border-collapse:collapse}
.history-table th, .history-table td{padding:10px 12px; border-bottom:1px solid var(--border); text-align:left; font-size:14px}
.history-table th{color:#cfd7e3; background:var(--panel-2)}
.history-table tr:last-child td{border-bottom:0}

/* Overlays / keypad */
.overlay{position:fixed; inset:0; background:rgba(0,0,0,.5); display:flex; align-items:center; justify-content:center; z-index:50}
.overlay.hidden{display:none}
.overlay-card{width:min(480px, calc(100% - 32px)); background:var(--panel); border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow); padding:18px}
.overlay-title{margin:0 0 8px}
.overlay-sub{margin:0 0 12px; color:var(--muted)}
.overlay-actions{display:flex; gap:10px; margin-top:10px; flex-wrap:wrap}
.overlay-note{margin-top:8px; color:#c6d2de; font-size:12px}

.code-dots{display:flex; gap:8px; justify-content:center; margin:6px 0 12px}
.code-dots span{width:12px; height:12px; border-radius:999px; background:#1b2733; border:1px solid #243142}
.code-dots span.filled{background:#23e08e; border-color:#23e08e}

.numpad{display:grid; grid-template-columns:repeat(3,1fr); gap:10px}
.numpad button{padding:14px 0; border-radius:12px; border:1px solid var(--border); background:var(--panel-2); color:var(--text); font-weight:800; font-size:18px; cursor:pointer; touch-action: manipulation;}
.numpad button:active{transform:translateY(1px)}
.numpad .np-wide{grid-column:span 3}

/* Sync */
.codebox{
  width:100%; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  background: var(--panel-2); color: var(--text); border:1px solid var(--border);
  border-radius:12px; padding:10px; font-size:13px;
}
.qr{display:block; margin-top:8px; border:1px solid var(--border); border-radius:12px; background:#fff}

/* Print */
@media print{
  body{background:#fff; color:#000}
  .wrap{max-width:none; margin:0; padding:0}
  header, .tabs, .settings, .top-controls, .live, .actions, .overlay{display:none !important}
  .card, .section{border:0; box-shadow:none; background:#fff}
  .history-table{border:0}
  .history-table th, .history-table td{border-color:#ddd; color:#000}
}

/* Mobile niceties */
@media (pointer:coarse){
  .btn{padding:13px 16px}
  .numpad button{padding:18px 0}
}
